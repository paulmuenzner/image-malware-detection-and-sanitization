import os
import os.path
import sys
from typing import Dict, List

sys.path.append(
    os.path.abspath(os.path.join(os.path.dirname(__file__), os.path.pardir))
)
from interfaces.signature_list import SignatureListInterface


# Select chunk settings from signature lib with their name/key (eg. "IDAT", "IHDR")
def filter_lib_by_keys(
    png_signatures: SignatureListInterface, keys: List[str]
) -> Dict[str, str]:
    filtered_signatures: Dict[str, str] = {}

    for key in keys:
        signature_data = png_signatures.get(key)

        if signature_data is not None and "signature" in signature_data:
            filtered_signatures[key] = signature_data["signature"]

    return filtered_signatures
