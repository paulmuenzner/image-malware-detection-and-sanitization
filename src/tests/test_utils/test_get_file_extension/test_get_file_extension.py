import os
import os.path
import sys

import pytest

sys.path.append(
    os.path.abspath(
        os.path.join(
            os.path.dirname(__file__), os.path.pardir, os.path.pardir, os.path.pardir
        )
    )
)


from utils.get_file_extension import get_file_extension


@pytest.mark.parametrize(
    "path, expected_result",
    [
        ("file.txt", "txt"),
        ("/path/to/file.png", "png"),
        ("document.docx", "docx"),
        ("file_without_extension", ValueError),
        ("", ValueError),
    ],
)
def test_get_file_extension(path, expected_result):
    if expected_result == ValueError:
        with pytest.raises(ValueError):
            get_file_extension(path)
    else:
        result = get_file_extension(path)
        assert result == expected_result
