import os
import os.path
import sys

sys.path.append(
    os.path.abspath(
        os.path.join(
            os.path.dirname(__file__), os.path.pardir, os.path.pardir, os.path.pardir
        )
    )
)
import pytest

from utils.is_extension_valid import is_extension_valid


@pytest.mark.parametrize(
    "extension, expected_result",
    [
        ("png", True),
        ("JPEG", False),
        ("GIF", False),
        ("txt", False),
        ("pdf", False),
        ("mp4", False),
        ("PnG", True),
        ("jpeg", False),
        ("GiF", False),
    ],
)
def test_extension_validity(extension, expected_result):
    result = is_extension_valid(extension)
    assert (
        result == expected_result
    ), f"Expected {expected_result}, but got {result} for extension '{extension}'"
