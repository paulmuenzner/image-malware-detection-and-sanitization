import os
import os.path
import sys
from typing import List

import pytest

sys.path.append(
    os.path.abspath(
        os.path.join(
            os.path.dirname(__file__), os.path.pardir, os.path.pardir, os.path.pardir
        )
    )
)

from utils.chunk_occurrence import find_occurrence_indices


@pytest.mark.parametrize(
    "main_string, sub_string, expected_result",
    [
        ("hello world", "l", [2, 3, 9]),
        ("abababab", "aba", [0, 2, 4]),
        ("python is powerful", "py", [0]),
        ("aaaa", "aa", [0, 1, 2]),
        ("", "test", []),
        ("hello", "", []),
    ],
)
def test_find_occurrence_indices(
    main_string: str, sub_string: str, expected_result: List[int]
):
    result = find_occurrence_indices(main_string, sub_string)
    assert result == expected_result
